@page "/"

<PageTitle>Name It After Me!</PageTitle>

<MudContainer MaxWidth=MaxWidth.Medium>
    <MudGrid>
        <MudItem xs="6">
            <MudCard>
                <MudCardContent>
                    <MudText Typo=Typo.body1>Total Exoplanets: @_totalExoplanets</MudText>
                    <MudText Typo=Typo.body1>Named Exoplanets: @_namedExoplanets</MudText>
                </MudCardContent>
            </MudCard>
        </MudItem>
        <MudItem xs="6">
            <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">xs=6</MudPaper>
        </MudItem>
        <MudItem xs="6">
            <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">xs=6</MudPaper>
        </MudItem>
        <MudItem xs="6">
            <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">xs=6</MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>

@code 
{
    private int _totalExoplanets;
    private int _namedExoplanets;

    [Inject] HttpClient HttpClient { get; set; } = null!;

    protected override async Task OnInitializedAsync()
    {
        _namedExoplanets = await HttpClient.GetFromJsonAsync<int>("Exoplanet/Count?excludeunnamedexoplanets=true");
        _totalExoplanets = await HttpClient.GetFromJsonAsync<int>("Exoplanet/Count");
    }
}
