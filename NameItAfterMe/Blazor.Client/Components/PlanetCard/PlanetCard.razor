<MudCard Outlined=@true>
    <PlanetCardHeader Name=@Exoplanet.Name />
    <MudCardMedia Image="@_imagePath" Height="200" />
    <MudCardContent>
        <MudText Typo="Typo.body2">This photo was taken in a small village in Istra Croatia.</MudText>
    </MudCardContent>
    <PlanetCardActions OnSaveClick="onSaveClick" />
</MudCard>

<NamePlanetOverlay 
    Exoplanet=@Exoplanet 
    PlanetImagePath=@_imagePath 
    IsVisable=@_isVisable />

@code {

    [Inject] HttpClient HttpClient { get; set; } = null!;

    [Parameter, EditorRequired] public ExoplanetDto Exoplanet { get; set; } = null!;

    [Parameter] public EventCallback OnSave { get; set; }

    private string? _imagePath;
    private string? _name;
    private bool _isVisable;

    protected override async Task OnInitializedAsync()
    {
        // ask server for random image path.
        _imagePath = await HttpClient.GetFromJsonAsync<string>("Exoplanet/ImagePath");
    }

    private void onSaveClick()
    {
        _isVisable = true;
        OnSave.InvokeAsync();
    }
}